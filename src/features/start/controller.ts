import { type Context } from "../../types/session.ts";
import { mainMenu } from "../menu/main-menu.ts";

export const startController = async (ctx: Context) => {
  try {
    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å–µ—Å—Å–∏—é –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
    if (ctx.chat) {
      ctx.session = {};

      await ctx.reply(
        `üëã <b>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ AGORA!</b>\n\n` +
          `üé≠ –≠—Ç–æ—Ç –±–æ—Ç - –Ω–∞—Å—Ç–æ—è—â–∏–π —Ç–µ–∞—Ç—Ä –æ–¥–Ω–æ–≥–æ –∞–∫—Ç–µ—Ä–∞! –û–Ω –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è, –ø—Ä–∏–º–µ—Ä—è—è –Ω–∞ —Å–µ–±—è —Ä–∞–∑–Ω—ã–µ –∑–∞–±–∞–≤–Ω—ã–µ (–∞ –∏–Ω–æ–≥–¥–∞ –∏ —Å—Ç—Ä–∞–Ω–Ω—ã–µ) –ª–∏—á–Ω–æ—Å—Ç–∏.\n\n` +
          `üí° <b>–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:</b>\n` +
          `1. –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É –∏–ª–∏ –∫–∞–Ω–∞–ª (–∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –ø–∏—à–∏—Ç–µ –µ–º—É –≤ –ª–∏—á–∫—É).\n` +
          `2. –ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–ª–∏ –ø–æ–¥–æ–∂–¥–∏—Ç–µ, –ø–æ–∫–∞ –±–æ—Ç –ø—Ä–æ–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–µ—Ç –ø–æ—Å—Ç.\n` +
          `3. –£–¥–∏–≤–∏—Ç–µ—Å—å –æ—Ç–≤–µ—Ç—É –æ—Ç –æ–¥–Ω–æ–π –∏–∑ 20+ –ª–∏—á–Ω–æ—Å—Ç–µ–π!\n\n` +
          `‚ú® <b>–ó–∞—á–µ–º?</b>\n` +
          `‚Ä¢ –ß—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ–º–Ω–æ–≥–æ –≤–µ—Å–µ–ª—å—è –∏ –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç–∏ –≤ –≤–∞—à–∏ —á–∞—Ç—ã.\n` +
          `‚Ä¢ –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –∫–∞–∫ —Ä–∞–∑–Ω—ã–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∏ —Ä–µ–∞–≥–∏—Ä—É—é—Ç –Ω–∞ –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –≤–µ—â–∏.\n\n` +
          `üöÄ <b>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!</b> –ù–∞–ø–∏—à–∏—Ç–µ —á—Ç–æ-–Ω–∏–±—É–¥—å.`,
        { reply_markup: mainMenu }
      );
    }
  } catch (error) {
    console.error("Error in start controller:", error);
    await ctx.reply("–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.");
  }
};
